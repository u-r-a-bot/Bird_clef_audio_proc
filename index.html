<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tweeting for Protection</title>
    <link rel="icon" type="image/x-icon" href="/static/bird.jpg">
    <link rel="shortcut icon" href="/static/bird-logo.png" type="image/x-icon">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/style.css">
</head>

<body style="background-color: #0a0a26;">
    <!-- <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav mx-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="#">About the project</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="audio.html">Audio Analysis</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="references.html">Endangered Species</a>
                </li>
            </ul>
        </div>
    </nav> -->
    <div class="main-content">
        <div class="container">
            <canvas id=c></canvas>
            <div class="row">
                <div class="col-md-6">
                    <!-- Image accordion on the left for medium and larger screens -->
                    <div class="image-accordion">
                        <!-- <div class="image-item">
                            <img src="himalayan-monal.jpg" alt="Himalayan Monal - Bird 1" class="image">
                            <div class="layer">
                                <div class="image-info">
                                    <h1>Himalayan Monal</h1>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                                </div>
                            </div>
                        </div> -->
                        <div class="image-item">
                            <img src="/static/img2.jpg" alt="Bird 2" class="image">
                            <div class="layer">
                                <div class="image-info">
                                    <h1>Kākāpō</h1>
                                    <p> Sometimes known as the owl parrot, is a species of large,
                                        nocturnal, ground-dwelling parrot of the superfamily Strigopoidea. It is endemic
                                        to New Zealand.</p>
                                </div>
                            </div>
                        </div>
                        <div class="image-item">
                            <img src="/static/puffin.jpg" alt="Bird 3" class="image">
                            <div class="layer">
                                <div class="image-info">
                                    <h1>Atlantic puffin</h1>
                                    <p> Is a species of seabird in the auk family. It is the only puffin native to the
                                        Atlantic Ocean; two related species, the tufted puffin and the horned puffin are
                                        found in the northeastern Pacific. </p>
                                </div>
                            </div>
                        </div>
                        <!-- <div class="image-item">
                            <img src="img1.jpg" alt="Bird 4" class="image">
                            <div class="layer">
                                <div class="image-info">
                                    <h1>Bird 4</h1>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                                </div>
                            </div>
                        </div> -->
                        <div class="image-item">
                            <img src="/static/Araripe-Manakin.jpg" alt="Bird 5" class="image">
                            <div class="layer">
                                <div class="image-info">
                                    <h1>Araripe manakin</h1>
                                    <p>Is a species of critically endangered bird from the family of manakins
                                        (Pipridae).</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="mt-5">
                        <div class='console-container'><span id='text'></span>
                            <div class='console-underscore' id='console'>&#95;</div>
                        </div>
                        <!-- <br>
                        <br>
                        <br>
                        <strong style="font-size: 50px;">Welcome!</strong> <br>Tweeting for Protection is an
                        <p class="right-txt welcome-text">innovative project dedicated to the conservation of
                            endangered species. We utilize advanced voice recognition technology to identify and monitor
                            these species through their distinctive audio signatures. Explore the enchanting world of
                            birds and contribute to the preservation of their habitats.
                        </p> -->
                        <div class="space" style="margin-top: 300px;"></div>
                        <div style="padding-left: 250px;">
                            <button id="playButton" class="button-85 btn btn-lg btn-primary try-now-btn"
                                role="button">Try
                                now</button>
                        </div>
                        <!-- <button id="" class="btn btn-lg btn-primary try-now-btn">Try Now</button> -->
                    </div>
                </div>
            </div>
        </div>
        <div class="information-abouts" style="margin-top: 350px;">
            <section id="home" class="container mt-5 about-section" style="margin-top: 2000px;">
                <h2>About the project</h2>
                <div class="mt-5">
                    <p>Through user-contributed audio recordings, we analyze and match patterns, aiding in the
                        identification of
                        endangered species. This information is invaluable for researchers and conservationists working
                        towards
                        preserving biodiversity and ecosystems.</p>
                    <p>Join us in this mission by uploading audio recordings of bird calls. Together, we can make a
                        significant
                        impact on wildlife preservation and create a harmonious balance in our natural world.</p>
                    <p>You can find more information about their conservation here:</p>
                    <ul>
                        <li><a href="https://www.worldwildlife.org/" target="_blank" class="links">World Wildlife
                                Fund</a>
                        </li>
                        <li><a href="https://www.iucn.org/" target="_blank" class="links">International Union for
                                Conservation
                                of Nature
                                (IUCN)</a></li>
                    </ul>
                </div>
                <div class="mt-5">
                    <h1 class="border-bottom pb-3">Why Bird Conservation Matters</h1>
                    <p>
                        Birds play a crucial role in maintaining ecological balance. They contribute to pollination,
                        seed
                        dispersal, and insect control. By protecting bird species, we are preserving the delicate
                        ecosystems
                        they inhabit.
                    </p>
                    <p>Discover the importance of bird conservation and how you can make a difference.</p>

                    <h1 class="border-bottom pb-3">Frequently Asked Questions</h1>
                    <ul>
                        <li>
                            <strong>Q: How does the voice recognition technology work?</strong><br>
                            A: Our system analyzes unique audio signatures of bird species, comparing them to a database
                            for
                            identification. It combines machine learning and advanced algorithms to achieve accurate
                            results.
                        </li>
                        <li>
                            <strong>Q: Can I contribute to the project?</strong><br>
                            A: Absolutely! You can contribute by uploading audio recordings of bird calls. Your
                            contributions help us improve our database and further our conservation efforts.
                        </li>
                        <li>
                            <strong>Q: How does the project impact bird conservation?</strong><br>
                            A: By identifying and monitoring endangered species, we provide valuable data to researchers
                            and
                            conservationists. This information aids in developing effective conservation strategies.
                        </li>
                    </ul>
                </div>
            </section>
            <!-- <section id="audio" class="container mt-5 about-section">
            <h2>Audio Analysis</h2>
            <div class="mt-5">
                <p>Through advanced voice recognition technology, we analyze audio recordings to identify and monitor
                    endangered species. Contribute to our database by uploading your audio recordings of bird calls.</p>
                <p>Tip: Remember, our system utilizes only the first 5 seconds of each audio file for analysis.</p>
                <button class="btn btn-lg btn-primary play-btn">Play</button>
            </div>
        </section> -->
            <section id="references" class="container mt-5 about-section">
                <h2>Endangered Species</h2>
                <div class="mt-5">
                    <p>Explore a variety of endangered bird species and learn more about their conservation status.</p>
                    <button id="viewButton" class="btn btn-lg btn-primary">View</button>
                </div>
            </section>
        </div>
    </div>
    <script>
        document.getElementById("playButton").addEventListener("click", function () {
            window.location.href = "audio.html";
        });
    </script>
    <script>
        document.getElementById("viewButton").addEventListener("click", function () {
            window.location.href = "references.html";
        });
    </script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
        consoleText(['Welcome', 'Tweeting for Protection'], 'text', ['white', 'white']);

        function consoleText(words, id, colors) {
            if (colors === undefined) colors = ['#fff'];
            var visible = true;
            var con = document.getElementById('console');
            var letterCount = 1;
            var x = 1;
            var waiting = false;
            var target = document.getElementById(id)
            target.setAttribute('style', 'color:' + colors[0])
            window.setInterval(function () {

                if (letterCount === 0 && waiting === false) {
                    waiting = true;
                    target.innerHTML = words[0].substring(0, letterCount)
                    window.setTimeout(function () {
                        var usedColor = colors.shift();
                        colors.push(usedColor);
                        var usedWord = words.shift();
                        words.push(usedWord);
                        x = 1;
                        target.setAttribute('style', 'color:' + colors[0])
                        letterCount += x;
                        waiting = false;
                    }, 100)
                } else if (letterCount === words[0].length + 1 && waiting === false) {
                    waiting = true;
                    window.setTimeout(function () {
                        x = -1;
                        letterCount += x;
                        waiting = false;
                    }, 100)
                } else if (waiting === false) {
                    target.innerHTML = words[0].substring(0, letterCount)
                    letterCount += x;
                }
            }, 100)
            window.setInterval(function () {
                if (visible === true) {
                    con.className = 'console-underscore hidden'
                    visible = false;

                } else {
                    con.className = 'console-underscore'

                    visible = true;
                }
            }, 100)
        }
    </script>
    <script>
        var w = c.width = window.innerWidth,
            h = c.height = window.innerHeight,
            ctx = c.getContext('2d'),

            opts = {

                range: 180,
                baseConnections: 3,
                addedConnections: 5,
                baseSize: 5,
                minSize: 1,
                dataToConnectionSize: .4,
                sizeMultiplier: .7,
                allowedDist: 40,
                baseDist: 40,
                addedDist: 30,
                connectionAttempts: 100,

                dataToConnections: 1,
                baseSpeed: .04,
                addedSpeed: .05,
                baseGlowSpeed: .4,
                addedGlowSpeed: .4,

                rotVelX: .003,
                rotVelY: .002,

                repaintColor: '#111',
                connectionColor: 'hsla(200,60%,light%,alp)',
                rootColor: 'hsla(0,60%,light%,alp)',
                endColor: 'hsla(160,20%,light%,alp)',
                dataColor: 'hsla(40,80%,light%,alp)',

                wireframeWidth: .1,
                wireframeColor: '#88f',

                depth: 250,
                focalLength: 250,
                vanishPoint: {
                    x: w / 2,
                    y: h / 2
                }
            },

            squareRange = opts.range * opts.range,
            squareAllowed = opts.allowedDist * opts.allowedDist,
            mostDistant = opts.depth + opts.range,
            sinX = sinY = 0,
            cosX = cosY = 0,

            connections = [],
            toDevelop = [],
            data = [],
            all = [],
            tick = 0,
            totalProb = 0,

            animating = false,

            Tau = Math.PI * 2;

        ctx.fillStyle = '#222';
        ctx.fillRect(0, 0, w, h);
        ctx.fillStyle = '#ccc';
        ctx.font = '50px Verdana';
        ctx.fillText('Calculating Nodes', w / 2 - ctx.measureText('Calculating Nodes').width / 2, h / 2 - 15);

        window.setTimeout(init, 4); // to render the loading screen

        function init() {

            connections.length = 0;
            data.length = 0;
            all.length = 0;
            toDevelop.length = 0;

            var connection = new Connection(0, 0, 0, opts.baseSize);
            connection.step = Connection.rootStep;
            connections.push(connection);
            all.push(connection);
            connection.link();

            while (toDevelop.length > 0) {

                toDevelop[0].link();
                toDevelop.shift();
            }

            if (!animating) {
                animating = true;
                anim();
            }
        }
        function Connection(x, y, z, size) {

            this.x = x;
            this.y = y;
            this.z = z;
            this.size = size;

            this.screen = {};

            this.links = [];
            this.probabilities = [];
            this.isEnd = false;

            this.glowSpeed = opts.baseGlowSpeed + opts.addedGlowSpeed * Math.random();
        }
        Connection.prototype.link = function () {

            if (this.size < opts.minSize)
                return this.isEnd = true;

            var links = [],
                connectionsNum = opts.baseConnections + Math.random() * opts.addedConnections | 0,
                attempt = opts.connectionAttempts,

                alpha, beta, len,
                cosA, sinA, cosB, sinB,
                pos = {},
                passedExisting, passedBuffered;

            while (links.length < connectionsNum && --attempt > 0) {

                alpha = Math.random() * Math.PI;
                beta = Math.random() * Tau;
                len = opts.baseDist + opts.addedDist * Math.random();

                cosA = Math.cos(alpha);
                sinA = Math.sin(alpha);
                cosB = Math.cos(beta);
                sinB = Math.sin(beta);

                pos.x = this.x + len * cosA * sinB;
                pos.y = this.y + len * sinA * sinB;
                pos.z = this.z + len * cosB;

                if (pos.x * pos.x + pos.y * pos.y + pos.z * pos.z < squareRange) {

                    passedExisting = true;
                    passedBuffered = true;
                    for (var i = 0; i < connections.length; ++i)
                        if (squareDist(pos, connections[i]) < squareAllowed)
                            passedExisting = false;

                    if (passedExisting)
                        for (var i = 0; i < links.length; ++i)
                            if (squareDist(pos, links[i]) < squareAllowed)
                                passedBuffered = false;

                    if (passedExisting && passedBuffered)
                        links.push({ x: pos.x, y: pos.y, z: pos.z });

                }

            }

            if (links.length === 0)
                this.isEnd = true;
            else {
                for (var i = 0; i < links.length; ++i) {

                    var pos = links[i],
                        connection = new Connection(pos.x, pos.y, pos.z, this.size * opts.sizeMultiplier);

                    this.links[i] = connection;
                    all.push(connection);
                    connections.push(connection);
                }
                for (var i = 0; i < this.links.length; ++i)
                    toDevelop.push(this.links[i]);
            }
        }
        Connection.prototype.step = function () {

            this.setScreen();
            this.screen.color = (this.isEnd ? opts.endColor : opts.connectionColor).replace('light', 30 + ((tick * this.glowSpeed) % 30)).replace('alp', .2 + (1 - this.screen.z / mostDistant) * .8);

            for (var i = 0; i < this.links.length; ++i) {
                ctx.moveTo(this.screen.x, this.screen.y);
                ctx.lineTo(this.links[i].screen.x, this.links[i].screen.y);
            }
        }
        Connection.rootStep = function () {
            this.setScreen();
            this.screen.color = opts.rootColor.replace('light', 30 + ((tick * this.glowSpeed) % 30)).replace('alp', (1 - this.screen.z / mostDistant) * .8);

            for (var i = 0; i < this.links.length; ++i) {
                ctx.moveTo(this.screen.x, this.screen.y);
                ctx.lineTo(this.links[i].screen.x, this.links[i].screen.y);
            }
        }
        Connection.prototype.draw = function () {
            ctx.fillStyle = this.screen.color;
            ctx.beginPath();
            ctx.arc(this.screen.x, this.screen.y, this.screen.scale * this.size, 0, Tau);
            ctx.fill();
        }
        function Data(connection) {

            this.glowSpeed = opts.baseGlowSpeed + opts.addedGlowSpeed * Math.random();
            this.speed = opts.baseSpeed + opts.addedSpeed * Math.random();

            this.screen = {};

            this.setConnection(connection);
        }
        Data.prototype.reset = function () {

            this.setConnection(connections[0]);
            this.ended = 2;
        }
        Data.prototype.step = function () {

            this.proportion += this.speed;

            if (this.proportion < 1) {
                this.x = this.ox + this.dx * this.proportion;
                this.y = this.oy + this.dy * this.proportion;
                this.z = this.oz + this.dz * this.proportion;
                this.size = (this.os + this.ds * this.proportion) * opts.dataToConnectionSize;
            } else
                this.setConnection(this.nextConnection);

            this.screen.lastX = this.screen.x;
            this.screen.lastY = this.screen.y;
            this.setScreen();
            this.screen.color = opts.dataColor.replace('light', 40 + ((tick * this.glowSpeed) % 50)).replace('alp', .2 + (1 - this.screen.z / mostDistant) * .6);

        }
        Data.prototype.draw = function () {

            if (this.ended)
                return --this.ended; // not sre why the thing lasts 2 frames, but it does

            ctx.beginPath();
            ctx.strokeStyle = this.screen.color;
            ctx.lineWidth = this.size * this.screen.scale;
            ctx.moveTo(this.screen.lastX, this.screen.lastY);
            ctx.lineTo(this.screen.x, this.screen.y);
            ctx.stroke();
        }
        Data.prototype.setConnection = function (connection) {

            if (connection.isEnd)
                this.reset();

            else {

                this.connection = connection;
                this.nextConnection = connection.links[connection.links.length * Math.random() | 0];

                this.ox = connection.x; // original coordinates
                this.oy = connection.y;
                this.oz = connection.z;
                this.os = connection.size; // base size

                this.nx = this.nextConnection.x; // new
                this.ny = this.nextConnection.y;
                this.nz = this.nextConnection.z;
                this.ns = this.nextConnection.size;

                this.dx = this.nx - this.ox; // delta
                this.dy = this.ny - this.oy;
                this.dz = this.nz - this.oz;
                this.ds = this.ns - this.os;

                this.proportion = 0;
            }
        }
        Connection.prototype.setScreen = Data.prototype.setScreen = function () {

            var x = this.x,
                y = this.y,
                z = this.z;

            // apply rotation on X axis
            var Y = y;
            y = y * cosX - z * sinX;
            z = z * cosX + Y * sinX;

            // rot on Y
            var Z = z;
            z = z * cosY - x * sinY;
            x = x * cosY + Z * sinY;

            this.screen.z = z;

            // translate on Z
            z += opts.depth;

            this.screen.scale = opts.focalLength / z;
            this.screen.x = opts.vanishPoint.x + x * this.screen.scale;
            this.screen.y = opts.vanishPoint.y + y * this.screen.scale;

        }
        function squareDist(a, b) {

            var x = b.x - a.x,
                y = b.y - a.y,
                z = b.z - a.z;

            return x * x + y * y + z * z;
        }

        function anim() {

            window.requestAnimationFrame(anim);

            ctx.globalCompositeOperation = 'source-over';
            ctx.fillStyle = opts.repaintColor;
            ctx.fillRect(0, 0, w, h);

            ++tick;

            var rotX = tick * opts.rotVelX,
                rotY = tick * opts.rotVelY;

            cosX = Math.cos(rotX);
            sinX = Math.sin(rotX);
            cosY = Math.cos(rotY);
            sinY = Math.sin(rotY);

            if (data.length < connections.length * opts.dataToConnections) {
                var datum = new Data(connections[0]);
                data.push(datum);
                all.push(datum);
            }

            ctx.globalCompositeOperation = 'lighter';
            ctx.beginPath();
            ctx.lineWidth = opts.wireframeWidth;
            ctx.strokeStyle = opts.wireframeColor;
            all.map(function (item) { item.step(); });
            ctx.stroke();
            ctx.globalCompositeOperation = 'source-over';
            all.sort(function (a, b) { return b.screen.z - a.screen.z });
            all.map(function (item) { item.draw(); });

            /*ctx.beginPath();
            ctx.strokeStyle = 'red';
            ctx.arc( opts.vanishPoint.x, opts.vanishPoint.y, opts.range * opts.focalLength / opts.depth, 0, Tau );
            ctx.stroke();*/
        }

        window.addEventListener('resize', function () {

            opts.vanishPoint.x = (w = c.width = window.innerWidth) / 2;
            opts.vanishPoint.y = (h = c.height = window.innerHeight) / 2;
            ctx.fillRect(0, 0, w, h);
        });
        window.addEventListener('click', init);
    </script>
</body>

</html>
